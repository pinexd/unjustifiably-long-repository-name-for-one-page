<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pearto is here</title>
    <style>
        body { 
            margin: 0; 
            background-color: #111; 
            overflow: hidden; 
            touch-action: none; 
        }
        #pearto { 
            position: absolute; 
            height: 123px; 
            width: 76px; 
            background: url(https://files.catbox.moe/ls57sn.png) no-repeat center; 
            background-size: contain; 
            will-change: transform;
            pointer-events: none; 
        }
    </style>
</head>
<body>

<div id="pearto"></div>

<script>
    const dvd = document.getElementById("pearto");
    const speed = 4;
    
    let x = 0, y = 0;
    let dirX = 1, dirY = 1;
    let lastTime = 0;

    let screenW, screenH, dvdW, dvdH;

    function updateDimensions() {
        screenW = window.innerWidth;
        screenH = window.innerHeight;
        dvdW = dvd.offsetWidth;
        dvdH = dvd.offsetHeight;
    }

    updateDimensions();
    window.addEventListener('resize', updateDimensions);

    function animate(currentTime) {
        if (!lastTime) {
            lastTime = currentTime;
            requestAnimationFrame(animate);
            return;
        }

        const deltaTimeMs = Math.min(currentTime - lastTime, 100);
        const timeScale = deltaTimeMs / 16.67;
        lastTime = currentTime;

        x += dirX * speed * timeScale;
        y += dirY * speed * timeScale;

        // collision logic
        if (x + dvdW >= screenW) {
            dirX = -1;
            x = screenW - dvdW;
        } else if (x <= 0) {
            dirX = 1;
            x = 0;
        }

        if (y + dvdH >= screenH) {
            dirY = -1;
            y = screenH - dvdH;
        } else if (y <= 0) {
            dirY = 1;
            y = 0;
        }

        dvd.style.transform = `translate3d(${x}px, ${y}px, 0)`;

        requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
</script>

</body>
</html>
